{% extends "base.html" %}
    <head>
        {% block css %} 
        <link rel="stylesheet" href="/static/css/solverstyles.css"/>
        {% endblock %}
        {% block title %}Sudoku Solver{% endblock %}
        </head>
      <body>
            {% block content %}
            <div id="title" style="text-align:center"><b>Sudoku Solver</b></div>     
            <div id="sud">To solve a sudoku, input the numbers into this grid:</div> 
            <div id="sudokucontainer">
              <div id="nums" style="display:flex;grid-row:1/2;grid-column:2/3;justify-content:space-around">
                              <b>1</b>
                              <b>2</b>
                              <b>3</b>
                              <b>4</b>
                              <b>5</b>
                              <b>6</b>
                              <b>7</b>
                              <b>8</b>
                              <b>9</b>
                                  </div>
                                  
                                  <div id="lets" style="grid-row:2/3;grid-column:1/2">
                                  <div style="width:100%"><b>A</b></div> 
                                  <div style="width:100%"><b>B</b></div> 
                                  <div style="width:100%"><b>C</b></div> 
                                  <div style="width:100%"><b>D</b></div> 
                                  <div style="width:100%"><b>E</b></div> 
                                  <div style="width:100%"><b>F</b></div> 
                                  <div style="width:100%"><b>G</b></div> 
                                  <div style="width:100%"><b>H</b></div> 
                                  <div style="width:100%"><b>I</b></div> 
                                  </div>
                                  <form style="grid-row:2/3;grid-column:2/3"action="/solver" method="post">
                                      <div id="sudoku">
                                      <input class="searchbar" type="input" id="A1" name="A1" autocomplete="off"/>
                                      <input class="searchbar" type="input" id="A2" name="A2" autocomplete="off"/>
                                      <input class="searchbar" type="input" id="A3"style="border-right:blue 0.25vw solid" name="A3" autocomplete="off"/>
                                      <input class="searchbar" type="input" id="A4" style="border-left:blue 0.25vw solid"name="A4" autocomplete="off"/>
                                      <input class="searchbar" type="input" id="A5" name="A5" autocomplete="off"/>
                                      <input class="searchbar" type="input" id="A6" style="border-right:blue 0.25vw solid"name="A6" autocomplete="off"/>
                                      <input class="searchbar" id="A7"  type="input" style="border-left:blue 0.25vw solid"name="A7" autocomplete="off"/>
                                      <input class="searchbar" id="A8"  type="input" name="A8" autocomplete="off"/>
                                      <input class="searchbar"id="A9" type="input" name="A9" autocomplete="off"/>
                                      <input class="searchbar"id="B1" type="input" name="B1" autocomplete="off"/>
                                      <input class="searchbar"id="B2" type="input" name="B2" autocomplete="off"/>
                                      <input class="searchbar"id="B3" type="input"  style="border-right:blue 0.25vw solid"name="B3" autocomplete="off"/>
                                      <input class="searchbar"id="B4" type="input" name="B4"style="border-left:blue 0.25vw solid" autocomplete="off"/>
                                      <input class="searchbar"id="B5" type="input" name="B5" autocomplete="off"/>
                                      <input class="searchbar"id="B6"  type="input" style="border-right:blue 0.25vw solid" name="B6" autocomplete="off"/>
                                      <input class="searchbar" id="B7" type="input" name="B7"style="border-left:blue 0.25vw solid" autocomplete="off"/>
                                      <input class="searchbar"id="B8" type="input" name="B8" autocomplete="off"/>
                                      <input class="searchbar"id="B9" type="input" name="B9" autocomplete="off"/>
                                      <input class="searchbar"id="C1" style="border-bottom:blue 0.25vw solid" type="input" name="C1" autocomplete="off"/>
                                      <input class="searchbar" id="C2"style="border-bottom:blue 0.25vw solid" type="input" name="C2" autocomplete="off"/>
                                      <input class="searchbar"id="C3" style="border-bottom:blue 0.25vw solid;border-right:blue 0.25vw solid" type="input" name="C3" autocomplete="off"/>
                                      <input class="searchbar"id="C4" style="border-bottom:blue 0.25vw solid;border-left:blue 0.25vw solid" type="input" name="C4" autocomplete="off"/>
                                      <input class="searchbar"id="C5" style="border-bottom:blue 0.25vw solid" type="input" name="C5" autocomplete="off"/>
                                      <input class="searchbar"id="C6" style="border-bottom:blue 0.25vw solid;border-right:blue 0.25vw solid"type="input" name="C6" autocomplete="off"/>
                                      <input class="searchbar"id="C7" style="border-bottom:blue 0.25vw solid;border-left:blue 0.25vw solid" type="input" name="C7" autocomplete="off"/>
                                      <input class="searchbar"id="C8" style="border-bottom:blue 0.25vw solid" type="input" name="C8" autocomplete="off"/>
                                      <input class="searchbar"id="C9" style="border-bottom:blue 0.25vw solid" type="input" name="C9" autocomplete="off"/>
                                      <input class="searchbar"id="D1" style="border-top:blue 0.25vw solid" type="input" name="D1" autocomplete="off"/>
                                      <input class="searchbar"id="D2" style="border-top:blue 0.25vw solid"  type="input" name="D2" autocomplete="off"/>
                                      <input class="searchbar"id="D3" style="border-top:blue 0.25vw solid;border-right:blue 0.25vw solid" type="input" name="D3" autocomplete="off"/>
                                      <input class="searchbar"id="D4" style="border-top: blue 0.25vw solid;border-left:0.25vw blue solid" type="input" name="D4" autocomplete="off"/>
                                      <input class="searchbar"id="D5" style="border-top:blue 0.25vw solid" type="input" name="D5" autocomplete="off"/>
                                      <input class="searchbar" id="D6"style="border-top:blue 0.25vw solid; border-right:blue 0.25vw solid"type="input" name="D6" autocomplete="off"/>
                                      <input class="searchbar" id="D7"style="border-top:blue 0.25vw solid;border-left:0.25vw blue solid" type="input" name="D7" autocomplete="off"/>
                                      <input class="searchbar"id="D8" style="border-top:blue 0.25vw solid" type="input" name="D8" autocomplete="off"/>
                                      <input class="searchbar" id="D9"style="border-top:blue 0.25vw solid"type="input" name="D9" autocomplete="off"/>
                                      <input class="searchbar"id="E1"  type="input" name="E1" autocomplete="off"/>
                                      <input class="searchbar"id="E2"  type="input" name="E2" autocomplete="off"/>
                                      <input class="searchbar" id="E3"  style="border-right:blue 0.25vw solid"type="input" name="E3" autocomplete="off"/>
                                      <input class="searchbar" id="E4" style="border-left:blue 0.25vw solid"type="input" name="E4" autocomplete="off"/>
                                      <input class="searchbar" id="E5" type="input" name="E5" autocomplete="off"/>
                                      <input class="searchbar" id="E6"  style="border-right:blue 0.25vw solid"type="input" name="E6" autocomplete="off"/>
                                      <input class="searchbar" id="E7" style="border-left:blue 0.25vw solid"type="input" name="E7" autocomplete="off"/>
                                      <input class="searchbar" id="E8"type="input" name="E8" autocomplete="off"/>
                                      <input class="searchbar" id="E9" type="input" name="E9" autocomplete="off"/>
                                      <input class="searchbar" id="F1"style="border-bottom:blue 0.25vw solid" type="input" name="F1" autocomplete="off"/>
                                      <input class="searchbar" id="F2"style="border-bottom:blue 0.25vw solid" type="input" name="F2" autocomplete="off"/>
                                      <input class="searchbar" id="F3" style="border-right:blue 0.25vw solid;border-bottom:blue 0.25vw solid" type="input" name="F3" autocomplete="off"/>
                                      <input class="searchbar" id="F4"style="border-bottom:blue 0.25vw solid;border-left:blue 0.25vw solid" type="input" name="F4" autocomplete="off"/>
                                      <input class="searchbar" id="F5"style="border-bottom:blue 0.25vw solid" type="input" name="F5" autocomplete="off"/>
                                      <input class="searchbar" id="F6" style="border-right:blue 0.25vw solid;border-bottom:blue 0.25vw solid" type="input" name="F6" autocomplete="off"/>
                                      <input class="searchbar" id="F7"style="border-bottom:blue 0.25vw solid;border-left:blue 0.25vw solid" type="input" name="F7" autocomplete="off"/>
                                      <input class="searchbar" id="F8"style="border-bottom:blue 0.25vw solid" type="input" name="F8" autocomplete="off"/>
                                      <input class="searchbar" id="F9"style="border-bottom:blue 0.25vw solid" type="input" name="F9" autocomplete="off"/>
                                      <input class="searchbar" id="G1" style="border-top:0.25vw blue solid"type="input" name="G1" autocomplete="off"/>
                                      <input class="searchbar" id="G2" style="border-top:0.25vw blue solid"type="input" name="G2" autocomplete="off"/>
                                      <input class="searchbar" id="G3" style="border-top:0.25vw blue solid;border-right:blue 0.25vw solid"type="input" name="G3" autocomplete="off"/>
                                      <input class="searchbar" id="G4" style="border-top:0.25vw blue solid;border-left:blue 0.25vw solid"type="input" name="G4" autocomplete="off"/>
                                      <input class="searchbar" id="G5" style="border-top:0.25vw blue solid"type="input" name="G5" autocomplete="off"/>
                                      <input class="searchbar" id="G6" style="border-top:0.25vw blue solid;border-right:blue 0.25vw solid"type="input" name="G6" autocomplete="off"/>
                                      <input class="searchbar" id="G7" style="border-top:0.25vw blue solid;border-left:blue 0.25vw solid"type="input" name="G7" autocomplete="off"/>
                                      <input class="searchbar" id="G8" style="border-top:0.25vw blue solid"type="input" name="G8" autocomplete="off"/>
                                      <input class="searchbar" id="G9" style="border-top:0.25vw blue solid"type="input" name="G9" autocomplete="off"/>
                                      <input class="searchbar" id="H1" type="input" name="H1" autocomplete="off"/>
                                      <input class="searchbar" id="H2" type="input" name="H2" autocomplete="off"/>
                                      <input class="searchbar" id="H3"  style="border-right:blue 0.25vw solid"type="input" name="H3" autocomplete="off"/>
                                      <input class="searchbar" id="H4" style="border-left:blue 0.25vw solid"type="input" name="H4" autocomplete="off"/>
                                      <input class="searchbar" id="H5" type="input" name="H5" autocomplete="off"/>
                                      <input class="searchbar" id="H6"  style="border-right:blue 0.25vw solid"type="input" name="H6" autocomplete="off"/>
                                      <input class="searchbar" id="H7"style="border-left:blue 0.25vw solid" type="input" name="H7" autocomplete="off"/>
                                      <input class="searchbar" id="H8" type="input" name="H8" autocomplete="off"/>
                                      <input class="searchbar" id="H9" type="input" name="H9" autocomplete="off"/>
                                      <input class="searchbar"id="I1" type="input" name="I1" autocomplete="off"/>
                                      <input class="searchbar"id="I2"   type="input" name="I2" autocomplete="off"/>
                                      <input class="searchbar" id="I3" style="border-right:blue 0.25vw solid"type="input" name="I3" autocomplete="off"/>
                                      <input class="searchbar" id="I4"style="border-left:blue 0.25vw solid"type="input" name="I4" autocomplete="off"/>
                                      <input class="searchbar"id="I5"  type="input" name="I5" autocomplete="off"/>
                                      <input class="searchbar" id="I6" style="border-right:blue 0.25vw solid" type="input" name="I6" autocomplete="off"/>
                                      <input class="searchbar" id="I7" style="border-left:blue 0.25vw solid"type="input" name="I7" autocomplete="off"/>
                                      <input class="searchbar" id="I8" type="input" name="I8" autocomplete="off"/>
                                      <input class="searchbar" id="I9" type="input" name="I9" autocomplete="off"/>
                                      </div>
                                      </div>
                <div id="whitescreen"><p id="dots">Solving Sudoku...</p>
                  <img id="whitescreengrid" src="/static/grid.png">
                  <img id="n1"class="numberimg" src="/static/1blue.jpg">
                  <img id="n2"class="numberimg" src="/static/2blue.jpg">
                  <img id="n3"class="numberimg" src="/static/3blue.jpg">
                  <img id="n4"class="numberimg" src="/static/4blue.jpg">
                  <img id="n5"class="numberimg" src="/static/5blue.jpg">
                  <img id="n6"class="numberimg" src="/static/6blue.jpg">
                  <img id="n7"class="numberimg" src="/static/7blue.jpg">
                  <img id="n8"class="numberimg" src="/static/8blue.jpg">
                  <img id="n9"class="numberimg" src="/static/9blue.jpg">
              </div>
                <div id="buts">
                  <input class="button"id="solve"style= "margin-right:1.5vw;border-radius:5px" type="submit" value="Solve sudoku" onclick=" whiteScreen()"></input>
                  <input class="button" id="load"style="margin-left:1.5vw;border-radius:5px" type="submit" onclick="clearGrid(),  whiteScreen()"value="Load sample sudoku"></input></div>
                  <div id="or">Or, type in the 81-digit code for the sudoku, with zeroes for blank cells:</div>
                <div id="stringOfNums"><input name="stringOfNums" type="input"></input><input id="submitbutton" type="submit" value="submit" onclick="whiteScreen()"></div>           
            </form>
            <script>
              let currentInputIndex = 0;
              // Get all the text inputs in the document
const inputs = document.querySelectorAll("input[type='input']");
              var cells = document.getElementsByClassName('searchbar')
              for (let i=0; i < inputs.length; i++){
                inputs[i].addEventListener('click', function(){
                    for(let i=0; i<inputs.length;i++){
                        inputs[i].style.backgroundColor = 'white'
                    }
                    this.style.backgroundColor = 'cornflowerblue'
                    currentInputIndex = i
                    console.log(currentInputIndex)
                }

                )
              }

// Add an event listener to detect arrow key events
document.addEventListener("keydown", function(event) {
  switch (event.key) {
    case "ArrowLeft":
      // Left arrow key pressed
      if (currentInputIndex > 0) {
        currentInputIndex--;
        console.log(currentInputIndex)
        inputs[currentInputIndex].focus();
        for(let i=0; i<inputs.length;i++){
            inputs[i].style.backgroundColor = 'white'
        }
        inputs[currentInputIndex].style.backgroundColor = 'cornflowerblue'
      }
      break;
    case "ArrowUp":
      // Up arrow key pressed
      if(currentInputIndex > 8) {
        currentInputIndex = currentInputIndex - 9;
        inputs[currentInputIndex].focus();
        for(let i=0; i<inputs.length;i++){
            inputs[i].style.backgroundColor = 'white'
        }
        inputs[currentInputIndex].style.backgroundColor = 'cornflowerblue'
      }
      break;
    case "ArrowRight":
      // Right arrow key pressed
      if (currentInputIndex < inputs.length - 1) {
        currentInputIndex++;
        inputs[currentInputIndex].focus();
        for(let i=0; i<inputs.length;i++){
            inputs[i].style.backgroundColor = 'white'
        }
        inputs[currentInputIndex].style.backgroundColor = 'cornflowerblue'
      }
      break;
    case "ArrowDown":
      // Down arrow key pressed
      if(currentInputIndex < 72){
        currentInputIndex = currentInputIndex + 9;
        inputs[currentInputIndex].focus();
        for(let i=0; i<inputs.length;i++){
            inputs[i].style.backgroundColor = 'white'
        }
        inputs[currentInputIndex].style.backgroundColor = 'cornflowerblue'
      }
      break;
    default:
      break;
  }
});
</script>
            {% endblock %}
        </body>
</html>